# NOTE: the prompt separation is partially done for efficiency; previously I tried
# to do it all in one prompt with sequential format() calls but this will cause a backend
# error when the document contains any {} as python will expect the {} to be filled by
# format() arguments

# ruff: noqa: E501, W605 start
CONTEXTUAL_RAG_PROMPT1 = """<document>
{document}
</document> 
Ниже приведён фрагмент, который необходимо поместить в контекст всего документа, \
рассматривая документ как технический источник по геологии, ресурсам, \
разведке, горно-экономическим или нормативным данным. 
"""

CONTEXTUAL_RAG_PROMPT2 = """<chunk>
{chunk}
</chunk> 
Сформулируй КОРОТКОЕ и ТОЧНОЕ контекстное описание, объясняющее, \
какую роль этот фрагмент играет в документе \
(например: геологическое описание, результаты бурения, оценка ресурсов, \
методология, экономические ограничения, стандарты отчётности). 
 
ЦЕЛЬ: 
улучшить поиск и сопоставление фрагмента в системах retrieval \
для аналитических геолого-экономических запросов. 
 
ТРЕБОВАНИЯ: 
— 1–2 предложения; 
— строго фактический, технический стиль; 
— без интерпретаций, выводов и обобщений; 
— без повторения текста фрагмента. 
 
Ответь ТОЛЬКО контекстным описанием и НИЧЕМ БОЛЕЕ. 
""".rstrip()

CONTEXTUAL_RAG_TOKEN_ESTIMATE = 64  # 19 + 45

DOCUMENT_SUMMARY_PROMPT = """<document>
{document}
</document> 
Сформулируй КОРОТКОЕ и ТОЧНОЕ резюме всего документа \
с точки зрения его аналитической ценности \
для геолого-экономической оценки месторождений. 
 
Резюме должно отражать: 
— тип данных (геология, бурение, ресурсы, экономика, стандарты); 
— уровень детализации и назначение документа; 
— потенциальную применимость для оценки ресурсов или экономического анализа. 
 
ТРЕБОВАНИЯ: 
— 2–3 предложения; 
— строго технический, нейтральный стиль; 
— без маркетинговых формулировок; 
— без интерпретации сверх содержания документа. 
 
Ответь ТОЛЬКО резюме и НИЧЕМ БОЛЕЕ. 
""".rstrip()

DOCUMENT_SUMMARY_TOKEN_ESTIMATE = 50
# ruff: noqa: E501, W605 end